jps获得当前jvm虚拟机的进程pid
jstack pid 打印堆栈
避免死锁的方式
让程序每次至多只能获得一个锁.当然,在多线程环境下,这种情况通常并不现实
设计时考虑清楚锁的顺序
既然死锁的产生是两个线程无限等待对方持有的锁,那么只要等待时间有个上限就好了,synchronized不具备这个功能,可以使用Lock类的tryLock方法设置超时时间